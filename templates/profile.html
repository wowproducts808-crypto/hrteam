{% extends "base.html" %}
{% block content %}

<div style="display: flex; gap: 40px; max-width: 1200px; margin: auto;">

  <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é —Å–ª–µ–≤–∞ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <nav style="min-width: 220px; background: #f8f9fa; padding: 20px; border-radius: 8px; height: fit-content;">
    <h3 style="margin-top: 0; color: #2c3e50;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h3>
    <ul style="list-style: none; padding-left: 0; margin: 0;">
      <li style="margin-bottom: 10px;"><a href="/profile" style="display: block; padding: 8px 12px; color: white; background: #3498db; text-decoration: none; border-radius: 4px; font-weight: bold;">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a></li>
      
      <!-- –¢–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
      {% if current_user.user_type == 'employer' %}
        <li style="margin-bottom: 10px;"><a href="/rate_recruiter" style="display: block; padding: 8px 12px; color: #34495e; text-decoration: none; border-radius: 4px; transition: background 0.3s;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">‚≠ê –û—Ü–µ–Ω–∏—Ç—å —Ä–µ–∫—Ä—É—Ç–µ—Ä–∞</a></li>
      {% endif %}
      
      <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö -->
      <li style="margin-bottom: 10px;"><a href="/help" style="display: block; padding: 8px 12px; color: #34495e; text-decoration: none; border-radius: 4px; transition: background 0.3s;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">‚ùì –ü–æ–º–æ—â—å</a></li>
      <li style="margin-bottom: 10px;"><a href="/settings" style="display: block; padding: 8px 12px; color: #34495e; text-decoration: none; border-radius: 4px; transition: background 0.3s;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
      <li style="margin-bottom: 10px;"><a href="/privacy" style="display: block; padding: 8px 12px; color: #34495e; text-decoration: none; border-radius: 4px; transition: background 0.3s;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">üîí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</a></li>
      
      <hr style="margin: 15px 0; border: none; border-top: 1px solid #ddd;">
      
      <li><a href="/logout" style="display: block; padding: 8px 12px; color: #e74c3c; text-decoration: none; border-radius: 4px; transition: background 0.3s;" onmouseover="this.style.background='#ffeaea'" onmouseout="this.style.background='transparent'">üö™ –í—ã–π—Ç–∏</a></li>
    </ul>
  </nav>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–ø—Ä–∞–≤–∞ -->
  <section style="flex-grow: 1; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
      <h2 style="margin: 0; color: #2c3e50;">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
      {% if current_user.user_type == 'employer' %}
        <span style="background: #e74c3c; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; text-transform: uppercase;">
          –†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å
        </span>
      {% else %}
        <span style="background: #27ae60; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; text-transform: uppercase;">
          –†–µ–∫—Ä—É—Ç–µ—Ä
        </span>
      {% endif %}
    </div>

    <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
    <form method="post" action="/profile" style="margin-bottom: 40px;">
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
        <div>
          <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">–ò–º—è *</label>
          <input type="text" name="name" value="{{ current_user.name }}" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
        </div>
        <div>
          <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</label>
          <input type="text" name="specialization" value="{{ current_user.specialization or '' }}" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Python Developer, HR Manager" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
        </div>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
        <div>
          <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">–ö–æ–º–ø–∞–Ω–∏—è</label>
          <input type="text" name="company" value="{{ current_user.company or '' }}" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
        </div>
        <div>
          <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
          <input type="text" name="location" value="{{ current_user.location or '' }}" placeholder="–ê–ª–º–∞—Ç—ã, –ê—Å—Ç–∞–Ω–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
        </div>
      </div>

      <div style="margin-bottom: 20px;">
        <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã</label>
        <textarea name="experience" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –∫–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; resize: vertical;">{{ current_user.experience or '' }}</textarea>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
        <div>
          <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ (—Å—Å—ã–ª–∫–∞)</label>
          <input type="url" name="portfolio_url" value="{{ current_user.portfolio_url or '' }}" placeholder="https://myportfolio.com" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
        </div>
        <div>
          <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">–†–µ–∑—é–º–µ (—Å—Å—ã–ª–∫–∞)</label>
          <input type="url" name="resume_url" value="{{ current_user.resume_url or '' }}" placeholder="https://drive.google.com/file/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
        </div>
      </div>

      <div style="margin-bottom: 30px;">
        <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">–¢–µ–ª–µ—Ñ–æ–Ω</label>
        <input type="tel" name="phone" value="{{ current_user.phone or '' }}" placeholder="+7 (xxx) xxx-xx-xx" style="width: 300px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
      </div>

      <button type="submit" style="background: #27ae60; color: white; padding: 12px 24px; border: none; border-radius: 6px; font-size: 16px; cursor: pointer; transition: background 0.3s;" onmouseover="this.style.background='#2ecc71'" onmouseout="this.style.background='#27ae60'">
        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
      </button>
    </form>

    <!-- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π -->
    <div style="border-top: 1px solid #eee; padding-top: 30px;">
      <h3 style="color: #2c3e50; margin-bottom: 20px;">üìà –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π</h3>
      {% if completed_jobs %}
        <div style="display: grid; gap: 15px;">
          {% for job in completed_jobs %}
            <div style="border: 1px solid #e9ecef; padding: 15px; border-radius: 6px; background: #f8f9fa;">
              <h4 style="margin: 0 0 8px 0; color: #2c3e50;">{{ job.title }}</h4>
              <p style="margin: 0 0 8px 0; color: #6c757d; font-size: 14px;">{{ job.description[:100] }}{% if job.description|length > 100 %}...{% endif %}</p>
              <small style="color: #95a5a6;">‚úÖ –ó–∞–∫—Ä—ã—Ç–∞ {{ job.created_at.strftime('%d.%m.%Y') }}</small>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div style="text-align: center; padding: 40px; color: #95a5a6;">
          <div style="font-size: 48px; margin-bottom: 15px;">üìã</div>
          <p style="margin: 0; font-size: 16px;">–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π</p>
          <p style="margin: 5px 0 0 0; font-size: 14px;">–£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å</p>
        </div>
      {% endif %}
    </div>

  </section>

</div>

{% endblock %}
