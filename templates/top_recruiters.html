{% extends "base.html" %}
{% block content %}
  <h2>üèÜ –¢–æ–ø-10 –ª—É—á—à–∏—Ö —Ä–µ–∫—Ä—É—Ç–µ—Ä–æ–≤</h2>
  <p>–†–µ–π—Ç–∏–Ω–≥ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –æ—Ü–µ–Ω–∫–∞—Ö —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π</p>
  
  <!-- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
  <p><small>–ù–∞–π–¥–µ–Ω–æ —Ä–µ–∫—Ä—É—Ç–µ—Ä–æ–≤ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º: {{ top_recruiters|length }}</small></p>
  
  {% if top_recruiters %}
    <div style="max-width: 800px;">
      {% for data in top_recruiters %}
        {% if loop.index <= 3 %}
          <div style="border: 2px solid #ddd; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #fff9c4;">
        {% else %}
          <div style="border: 2px solid #ddd; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #f9f9f9;">
        {% endif %}
          
          <!-- –ú–µ—Å—Ç–æ –∏ –º–µ–¥–∞–ª–∏ -->
          <div style="display: flex; align-items: center; margin-bottom: 10px;">
            <div style="font-size: 24px; margin-right: 15px; font-weight: bold;">
              {% if loop.index == 1 %}ü•á
              {% elif loop.index == 2 %}ü•à
              {% elif loop.index == 3 %}ü•â
              {% else %}
                <span style="background: #666; color: white; padding: 5px 10px; border-radius: 50%;">{{ loop.index }}</span>
              {% endif %}
            </div>
            
            <div style="flex-grow: 1;">
              <h3 style="margin: 0; color: #333;">{{ data.recruiter.name }}</h3>
              {% if loop.index <= 3 %}
                <span style="color: #d4af37; font-weight: bold;">‚≠ê –¢–û–ü –†–ï–ö–†–£–¢–ï–†</span>
              {% endif %}
            </div>
            
            <!-- –†–µ–π—Ç–∏–Ω–≥ —Å–ø—Ä–∞–≤–∞ -->
            <div style="text-align: right;">
              <div style="font-size: 28px; color: #ff6b35; font-weight: bold;">
                {{ data.avg_rating }}/5.0
              </div>
              <div style="color: #666;">{{ data.ratings_count }} –æ—Ü–µ–Ω–æ–∫</div>
            </div>
          </div>
          
          <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
          <div style="display: flex; gap: 30px; margin-bottom: 15px; color: #555;">
            <div>
              <strong>üìä –ü—Ä–æ–µ–∫—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:</strong> {{ data.completed_projects }}
            </div>
            <div>
              <strong>‚≠ê –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª:</strong> {{ data.avg_rating }}
            </div>
          </div>
          
          <!-- –î–µ–π—Å—Ç–≤–∏—è -->
          <div style="border-top: 1px solid #ddd; padding-top: 10px;">
            <a href="/recruiter/{{ data.recruiter.id }}" 
               style="background: #007bff; color: white; padding: 8px 15px; text-decoration: none; border-radius: 5px; margin-right: 10px;">
               üë§ –ü—Ä–æ—Ñ–∏–ª—å
            </a>
            
            {% if current_user and current_user.user_type == 'employer' %}
              <a href="/messages/to/{{ data.recruiter.id }}" 
                 style="background: #28a745; color: white; padding: 8px 15px; text-decoration: none; border-radius: 5px; margin-right: 10px;">
                 üí¨ –ù–∞–ø–∏—Å–∞—Ç—å
              </a>
              <a href="/rate_recruiter/{{ data.recruiter.id }}" 
                 style="background: #ffc107; color: #333; padding: 8px 15px; text-decoration: none; border-radius: 5px;">
                 ‚≠ê –û—Ü–µ–Ω–∏—Ç—å
              </a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div style="text-align: center; padding: 50px; color: #666;">
      <h3>ü§∑‚Äç‚ôÇÔ∏è –ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ–∫—Ä—É—Ç–µ—Ä–æ–≤ —Å –æ—Ü–µ–Ω–∫–∞–º–∏</h3>
      <p>–°—Ç–∞–Ω—å—Ç–µ –ø–µ—Ä–≤—ã–º —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–π –æ—Ü–µ–Ω–∏—Ç —Ä–µ–∫—Ä—É—Ç–µ—Ä–∞!</p>
    </div>
  {% endif %}
  
  <br>
  <p style="text-align: center; color: #888;">
    <small>üí° –†–µ–π—Ç–∏–Ω–≥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–∑—ã–≤–æ–≤ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π</small>
  </p>
{% endblock %}
